<!DOCTYPE HTML>
<html lang="en-US" manifest="../manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>API and additional features | Userspace-Arduino for CFA10036</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="">
        <meta name="description" content="Almost every hobbyist related to embedded field is familier with Arduino. Arduino is a simple yet powerful set of hardware and software solution for hobbyist programmer to industries developers. Nice documentation and ease of programming made it so popular among folks in embedded community!">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="../PWM/Demo.html" />
        
        
        <link rel="prev" href="../PWM/specifications.html" />
        

        <meta property="og:title" content="API and additional features | Userspace-Arduino for CFA10036">
        <meta property="og:site_name" content="Userspace-Arduino for CFA10036">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="../gitbook/style.css">
        


        
    <div class="book"  data-level="2.2" data-basepath=".." data-revision="1400080537692">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>

    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="../" >Userspace-Arduino for CFA10036</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li data-level="0" data-path="index.html">
            <a href="../"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="overview/Overview.html">
                
                <a href="../overview/Overview.html">
                    <i class="fa fa-check"></i> <b>1.</b> Overview
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="overview/CFA10036.html">
                            
                            <a href="../overview/CFA10036.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> CFA10036
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="overview/CFA10037.html">
                            
                            <a href="../overview/CFA10037.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> CFA10037
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="PWM/PWM.html">
                
                <a href="../PWM/PWM.html">
                    <i class="fa fa-check"></i> <b>2.</b> PWM
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="2.1" data-path="PWM/specifications.html">
                            
                            <a href="../PWM/specifications.html">
                                <i class="fa fa-check"></i> <b>2.1.</b> Specifications
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.2" data-path="PWM/API &amp; Example.html">
                            
                            <a href="../PWM/API &amp; Example.html">
                                <i class="fa fa-check"></i> <b>2.2.</b> API and additional features
                            </a>
                            
                        </li>
                    
                        <li  data-level="2.3" data-path="PWM/Demo.html">
                            
                            <a href="../PWM/Demo.html">
                                <i class="fa fa-check"></i> <b>2.3.</b> Demo
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 85.71428571428571%;min-width: 71.42857142857143%;"></div>
    </div>
    <div class="chapters">
    
        <a href="../index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="../overview/Overview.html" title="Overview" class="chapter done new-chapter" data-progress="1" style="left: 14.285714285714286%;"></a>
    
        <a href="../overview/CFA10036.html" title="CFA10036" class="chapter done " data-progress="1.1" style="left: 28.571428571428573%;"></a>
    
        <a href="../overview/CFA10037.html" title="CFA10037" class="chapter done " data-progress="1.2" style="left: 42.857142857142854%;"></a>
    
        <a href="../PWM/PWM.html" title="PWM" class="chapter done new-chapter" data-progress="2" style="left: 57.142857142857146%;"></a>
    
        <a href="../PWM/specifications.html" title="Specifications" class="chapter done " data-progress="2.1" style="left: 71.42857142857143%;"></a>
    
        <a href="../PWM/API &amp; Example.html" title="API and additional features" class="chapter done " data-progress="2.2" style="left: 85.71428571428571%;"></a>
    
        <a href="../PWM/Demo.html" title="Demo" class="chapter  " data-progress="2.3" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_2">
                    
                        <h1 id="pwm-api-example">PWM API &amp; Example</h1>
<hr>
<p><strong>syntax</strong></p>
<p>analogWrite (pin, value)</p>
<p><strong>parameters</strong></p>
<p><em>pin</em>: pin no of Arduino Uno (0 to 5 only)</p>
<p><em>value</em>: duty cycle 0(min) to 255(max)</p>
<h4 id="additional-features-that-arduino-doesn-t-provide">Additional features that Arduino doesn&#39;t provide</h4>
<p>CFA10036 has eight PWM channels, while Arduino Uno has only six. This is a good thing who wants to use two extra channels. Right now only six channels are enabled (to maintain the compability with Arduino Uno), but who wants to enjoy an extra scoop can follow mentioned procedure.</p>
<h4 id="enable-extra-pwms">Enable extra PWMs</h4>
<p>Open following file using your favourite text editor:</p>
<pre><code>Userspace-Arduino/libarduino/variants/cfa10036/variant.cpp
</code></pre><p>Uncomment the last two lines to enable PWM6 and PWM7.</p>
<pre><code class="lang-cpp"><span class="hljs-comment">/* Array to match sysfs PWM Id againts Arduino pin no */</span>
PwmDescription g_APwmDescription[] = {
    { <span class="hljs-number">0</span>,    <span class="hljs-number">3</span>,    -<span class="hljs-number">1</span>,    -<span class="hljs-number">1</span> },
    { <span class="hljs-number">1</span>,    <span class="hljs-number">5</span>,    -<span class="hljs-number">1</span>,    -<span class="hljs-number">1</span> },
    { <span class="hljs-number">2</span>,    <span class="hljs-number">6</span>,    -<span class="hljs-number">1</span>,    -<span class="hljs-number">1</span> },
    { <span class="hljs-number">3</span>,    <span class="hljs-number">9</span>,    -<span class="hljs-number">1</span>,    -<span class="hljs-number">1</span> },
    { <span class="hljs-number">4</span>,    <span class="hljs-number">10</span>,    -<span class="hljs-number">1</span>,    -<span class="hljs-number">1</span> },
    { <span class="hljs-number">5</span>,    <span class="hljs-number">11</span>,    -<span class="hljs-number">1</span>,    -<span class="hljs-number">1</span> },

<span class="hljs-comment">/* Extra PWM pins
    { 6,    ,    -1,    -1 },
    { 7,    ,    -1,    -1 },*/</span>
};
</code></pre>
<h4 id="change-default-frequency-of-pwm">Change default frequency of PWM</h4>
<p>You can&#39;t change frequency of PWM in case of Arduino Uno. We don&#39;t have that kind of restriction here. Default frequency for CFA10036 is set to 20 &#181;s.</p>
<p>Open following file in your favourite text editor:</p>
<pre><code>Userspace-Arduino/libarduino/cores/virtual/sysfs.c
</code></pre><p>modify following line</p>
<pre><code class="lang-cpp"><span class="hljs-comment">/* PWM period in nano seconds*/</span>
<span class="hljs-preprocessor">#define SYSFS_PWM_PERIOD_NS 20000</span>
</code></pre>
<p><code>NOTE: write period in term of nano seconds only.</code></p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        <a href="../PWM/specifications.html" class="navigation navigation-prev"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../PWM/Demo.html" class="navigation navigation-next"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="../gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="../gitbook/app.js"></script>
        

    
    <script src="../gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
